#:import C kivy.utils.get_color_from_hex

WindowManager:
    MainWindow:
    TrainingWindow:
    

<MainWindow>
    name: "main"

    sets: sets
    workMinutes: workMinutes
    workSeconds: workSeconds
    restMinutes: restMinutes
    restSeconds: restSeconds

    FloatLayout:
        canvas.before:
            Color:
                rgba: C('#21ac2f')
            Rectangle:
                pos: self.pos
                size: self.size

        ScrollView:
            size_hint: (1, 0.28)
            Label:
                text: root.timesLabel
                halign: "center"
                font_size: 20
                font_name: 'Roboto-Medium.ttf'
                text_size: (self.width, None)
                pos_hint: {"x": 0, "top": 0.3}
                size_hint_y: None
                height: self.texture_size[1]
            
        Label:
            text: "Sets"
            font_size: 40
            font_name: 'Roboto-Medium.ttf'
            size_hint: (1, 0.07)
            pos_hint: {"x": 0, "y": 0.93}

        TextInput:
            id: sets
            multiline: False
            text: "0"
            text_size: self.size
            font_size: 30
            font_name: 'Roboto-Medium.ttf'
            foreground_color: C('#ffffff')
            halign: "center"
            background_normal: 'TextInputBackgroundNormal.png'
            background_active: 'TextInputBackgroundActive.png'
            size_hint: (0.20, 0.07)
            pos_hint: {"x": 0.40, "y": 0.86}

        Label:
            text: "Work"
            font_size: 40
            font_name: 'Roboto-Medium.ttf'
            size_hint: (1, 0.07)
            pos_hint: {"x": 0, "y": 0.79}

        TextInput:
            id: workMinutes
            multiline: False
            text: "0"
            text_size: self.size
            font_size: 30
            font_name: 'Roboto-Medium.ttf'
            foreground_color: C('#ffffff')
            halign: "center"
            background_normal: 'TextInputBackgroundNormal.png'
            background_active: 'TextInputBackgroundActive.png'
            size_hint: (0.20, 0.07)
            pos_hint: {"x": 0.28, "y": 0.72}
        
        Label:
            text: ":"
            font_name: 'Roboto-Medium.ttf'
            size_hint: (0.04, 0.07)
            pos_hint: {"x": 0.48, "y": 0.72}
        
        TextInput:
            id: workSeconds
            multiline: False
            text: "0"
            text_size: self.size
            font_size: 30
            font_name: 'Roboto-Medium.ttf'
            foreground_color: C('#ffffff')
            halign: "center"
            background_normal: 'TextInputBackgroundNormal.png'
            background_active: 'TextInputBackgroundActive.png'
            size_hint: (0.20, 0.07)
            pos_hint: {"x": 0.52, "y": 0.72}

        Label:
            text: "Rest"
            font_size: 40
            font_name: 'Roboto-Medium.ttf'
            size_hint: (1, 0.07)
            pos_hint: {"x": 0, "y": 0.65}    
            
        TextInput:
            id: restMinutes
            multiline: False
            text: "0"
            text_size: self.size
            font_size: 30
            font_name: 'Roboto-Medium.ttf'
            foreground_color: C('#ffffff')
            halign: "center"
            background_normal: 'TextInputBackgroundNormal.png'
            background_active: 'TextInputBackgroundActive.png'
            size_hint: (0.20, 0.07)
            pos_hint: {"x": 0.28, "y": 0.58}
        
        Label:
            text: ":"
            font_name: 'Roboto-Medium.ttf'
            size_hint: (0.04, 0.07)
            pos_hint: {"x": 0.48, "y": 0.58}
        
        TextInput:
            id: restSeconds
            multiline: False
            text: "0"
            text_size: self.size
            font_size: 30
            font_name: 'Roboto-Medium.ttf'
            foreground_color: C('#ffffff')
            halign: "center"
            background_normal: 'TextInputBackgroundNormal.png'
            background_active: 'TextInputBackgroundActive.png'
            size_hint: (0.20, 0.07)
            pos_hint: {"x": 0.52, "y": 0.58}
            
        Button:
            id: AddButton
            text: "Add"
            font_name: 'Roboto-Medium.ttf'
            font_size: 20
            background_normal: 'ButtonBackgroundNormal.png'
            background_down: 'ButtonBackgroundDown.png'
            on_press: root.AddPressed()
            size_hint: (0.49, 0.13)
            pos_hint: {"x": 0.505, "y": 0.425}

        Button:
            id: ResetButton
            text: "Reset"
            font_name: 'Roboto-Medium.ttf'
            font_size: 20
            background_normal: 'ButtonBackgroundNormal.png'
            background_down: 'ButtonBackgroundDown.png'
            on_press: root.ResetPressed()
            size_hint: (0.49, 0.13)
            pos_hint: {"x": 0.005, "y": 0.425}
        
        Button:
            id: StartButton
            text: "Start"
            font_name: 'Roboto-Medium.ttf'
            font_size: 20
            background_normal: 'ButtonBackgroundNormal.png'
            background_down: 'ButtonBackgroundDown.png'
            on_press: 
                app.root.current = "training"
            size_hint: (0.99, 0.13)
            pos_hint: {"x": 0.005, "y": 0.29}    

<TrainingWindow>
    name: "training"

    FloatLayout:
        canvas.before:
            Color:
                rgba: C(root.color)
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: root.names
            font_size: 40
            font_name: 'Roboto-Medium.ttf'
            size_hint: (1, 0.2)
            pos_hint: {"x": 0, "y": 0.8}

        Label:
            text: root.seconds
            font_size: 200
            font_name: 'Roboto-Medium.ttf'
            size_hint: (1, 0.4)
            pos_hint: {"x": 0, "y": 0.4}

        Label:
            text: "Seconds"
            font_name: 'Roboto-Medium.ttf'
            size_hint: (1, 0.1)
            pos_hint: {"x": 0, "y": 0.3}
        
        Button:
            text: "Back"
            font_size: 20
            font_name: 'Roboto-Medium.ttf'
            background_normal: 'ButtonBackgroundNormal.png'
            background_down: 'ButtonBackgroundDown.png'
            on_press:
                app.root.current = "main"
            size_hint: (0.99, 0.09)
            pos_hint: {"x": 0.005, "y": 0.005}